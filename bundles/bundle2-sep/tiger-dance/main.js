!function(e){function t(t){for(var a,o,s=t[0],c=t[1],l=t[2],h=0,d=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(t);d.length;)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={0:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([130,1]),n()}({129:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DanceCharacter=void 0;var r=n(322),o=function(e){function t(t,n,a){var i=e.call(this)||this;return i.rigReady=function(e){i.addChild(i._rig.display),i._rigCallback(e)},i.name=t,i._rigCallback=a,i._rig=new r.DragonBonesCharacter(t,n,i.rigReady),i}return i(t,e),Object.defineProperty(t.prototype,"display",{get:function(){return this._rig.display},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rig",{get:function(){return this._rig},enumerable:!1,configurable:!0}),t.prototype.muteCharacter=function(e){this.rig.supressAudio(e)},t.prototype.destroy=function(){},t}(createjs.Container);t.DanceCharacter=o},130:function(e,t,n){n(95),e.exports=n(316)},316:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(95),n(63).Wiggle.getInstance().run()},318:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DTLoadingScreen=void 0;var r=n(50),o=n(45),s=n(64),c=function(e){function t(n,a){var i=e.call(this)||this;i.start=function(){var e=s.SpringrollGame.getInstance().height/o.Constants.Gameplay.BASE_HEIGHT/o.Constants.Gameplay.ASSET_SCALE;i._trolley.scaleX=.9*e,i._trolley.scaleY=1.1*e,createjs.Tween.get(i._trolley,{loop:1e4}).to({scaleX:1.05*e,scaleY:.95*e},400,createjs.Ease.backIn).to({scaleX:.95*e,scaleY:1.05*e},300,createjs.Ease.cubicInOut)},i.freeze=function(){i._trolley.scaleX=i._trolley.scaleY=1,createjs.Tween.removeTweens(i._trolley)},i._bg=new createjs.Shape,null==a&&(i._color="#fff48b"),i._bg.graphics.beginFill(i._color),i._bg.graphics.drawRect(0,0,100,100),i._bg.graphics.endFill(),i.addChild(i._bg),i._trolley=new createjs.Container,i._trolley.x=50,i._trolley.y=50,i.addChild(i._trolley),i._textContainer=new createjs.Container,i._textContainer.x=50,i._textContainer.y=50,i.addChild(i._textContainer),i._assets=new r.AssetPackage;var c=[];return c.push(r.AssetPackage.makeManifestItem(t.DT_LOADING_SS,"assets/sheets/loading.json","spritesheet")),i._assets.loadManifest(c,i.assetsReceived.bind(i)),i}return i(t,e),t.prototype.assetsReceived=function(){this._trolleyAnim=this._assets.getSpriteFromSheet("loadingTrolley",t.DT_LOADING_SS),this._trolleyAnim.y=-1*this._trolleyAnim.getBounds().height,this._trolleyAnim.x=-.5*this._trolleyAnim.getBounds().width,this._trolley.addChild(this._trolleyAnim),this._loadingBG=new createjs.Text;var e=new createjs.Text;this._loadingBG.text=e.text="Loading",this._loadingBG.font=e.font="50px Joint",this._loadingBG.color="#f05119",this._loadingBG.x=e.x=-.55*this._loadingBG.getTransformedBounds().width,e.color="black",e.outline=3,this._textContainer.addChild(this._loadingBG)},t.prototype.setSize=function(e){var t=e.width,n=e.height;this._bg.graphics.clear(),this._bg.graphics.beginFill(this._color),this._bg.graphics.drawRect(0,0,t,n);var a=n/o.Constants.Gameplay.BASE_HEIGHT/o.Constants.Gameplay.ASSET_SCALE;this._trolley.scaleX=.9*a,this._trolley.scaleY=1.1*a,createjs.Tween.removeTweens(this._trolley),createjs.Tween.get(this._trolley,{loop:1e4}).to({scaleX:1.05*a,scaleY:.95*a},400,createjs.Ease.backIn).to({scaleX:.95*a,scaleY:1.05*a},300,createjs.Ease.cubicInOut),this._trolley.x=this._textContainer.x=t/2,this._trolley.y=n/2,this._textContainer.y=.52*n,this._textContainer.scaleX=this._textContainer.scaleY=a},t.prototype.setColor=function(e,t){this._color=e,this._bg.graphics.beginFill(this._color),this._bg.graphics.drawRect(0,0,s.SpringrollGame.getInstance().width,s.SpringrollGame.getInstance().height),null!=t&&(this._loadingBG.color=t)},t.DT_LOADING_SS="loadingScreenSheet",t}(createjs.Container);t.DTLoadingScreen=c},319:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TitleScreen=void 0;var r=n(94),o=n(50),s=n(320),c=n(64),l=n(45),u=n(38),h=n(65),d=function(e){function t(t,n,a){var i=e.call(this)||this;return i.onPackageReady=function(){i._bg=i._assets.getBitmap(i._data.image),i.addChild(i._bg),i._playButton=new s.HoverButton(i._assets.getSpriteFromSheet(i._data.playButton.art.up,i._data.playButton.art.sheet),i._assets.getSpriteFromSheet(i._data.playButton.art.down,i._data.playButton.art.sheet)),i.addChild(i._playButton),i._playButton.turnOn(),i.resize({width:c.SpringrollGame.getInstance().width,height:c.SpringrollGame.getInstance().height}),i._readyCallback()},i.onKeyDown=function(e){window.removeEventListener("keydown",i.onKeyDown.bind(i)),i.triggerAdvance()},i.triggerAdvance=function(e){u.AudioManager.getInstance().playSFX("titleclick").addEventListener("complete",i.advanceGame),i.removeEventListener("mousedown",i.triggerAdvance),window.removeEventListener("keydown",i.onKeyDown),i._playButton.removeEventListener(s.HoverButton.DOWN,i.triggerAdvance),i._playButton.turnOff(),createjs.Tween.removeTweens(i)},i.advanceGame=function(e){u.AudioManager.getInstance().killAll(),i.dispatchEvent(new h.SceneLoadEvent(h.SceneLoadEvent.SCENE_REQUEST,i._startScene))},i._startScene=n,i._readyCallback=a,i._data=t,i._assets=new o.AssetPackage,i._assets.loadManifest(t.manifest,i.onPackageReady),i}return i(t,e),t.prototype.start=function(){this._playButton.addEventListener(s.HoverButton.DOWN,this.triggerAdvance),this.addEventListener("mousedown",this.triggerAdvance),window.addEventListener("keydown",this.onKeyDown)},t.prototype.resize=function(e){var t=e.width,n=e.height;this._bg.scaleX=this._bg.scaleY=n/this._bg.getBounds().height,this._bg.x=(t-this._bg.getBounds().width*this._bg.scaleX)/2,"center"==this._data.playButton.align&&(this._playButton.scaleX=this._playButton.scaleY=n/(l.Constants.Gameplay.BASE_HEIGHT*l.Constants.Gameplay.ASSET_SCALE),this._playButton.x=t*this._data.playButton.position.x-this._playButton.getBounds().width*this._playButton.scaleX*.5,this._playButton.y=n*this._data.playButton.position.y-this._playButton.getBounds().height*this._playButton.scaleX*.5)},t.prototype.destroy=function(){createjs.Tween.removeTweens(this),this._bg=null,this._playButton.removeAllEventListeners(),this._playButton.destroy(),this._playButton=null,window.removeEventListener("keydown",this.onKeyDown),u.AudioManager.getInstance().killAll()},t}(r.GameScreen);t.TitleScreen=d},320:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.HoverButton=void 0;var r=function(e){function t(n,a,i,r){var o=e.call(this)||this;return o.onOut=function(e){o._over.visible=!1,o._off.visible=!0},o.onOver=function(e){o._over.visible=!0,o._off.visible=!1,o.dispatchEvent(new createjs.Event(t.OVER,!1,!1))},o.onDown=function(e){null!=o._down&&(null!=o._over&&(o._over.visible=!1),o._off.visible=!1,o._down.visible=!0),o.dispatchEvent(new createjs.Event(t.DOWN,!1,!1))},null==r&&(r=n.getBounds()),o._hitbox=new createjs.Shape,o._hitbox.graphics.beginFill("#00ff00"),o._hitbox.graphics.drawRect(r.x,r.y,r.width,r.height),o._hitbox.graphics.endFill(),o.hitArea=o._hitbox,o._off=n,o.addChildAt(o._off,0),null!=a&&o.addOver(a),null==i&&null!=o._over?o._down=o._over:o._down=i,o}return i(t,e),t.prototype.forceOver=function(){this._over.visible=!0,this._off.visible=!1},t.prototype.forceOut=function(){this._over.visible=!1,this._off.visible=!0},t.prototype.turnOn=function(){this.addEventListener("mousedown",this.onDown),null!=this._over&&(this.addEventListener("mouseover",this.onOver),this.addEventListener("mouseout",this.onOut))},t.prototype.turnOff=function(){this.removeEventListener("mousedown",this.onDown),null!=this._over&&(this.removeEventListener("mouseover",this.onOver),this.removeEventListener("mouseout",this.onOut))},t.prototype.addOver=function(e,t,n){this._over=e,null!=t&&(this._over.x=t.x,this._over.y=t.y),this.addChildAt(this._over,0),this._over.visible=!1,this._clearOnOver=n},t.prototype.destroy=function(){this.removeAllChildren(),this.turnOff()},t.ACTIVATED="activated",t.DOWN="down",t.OVER="over",t}(createjs.Container);t.HoverButton=r},321:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,i,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return o},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.IntroScene=void 0;var s=n(94),c=n(50),l=n(63),u=n(64),h=n(129),d=n(65),p=n(45),g=n(38),_=n(325),f=function(e){function t(t,n,a,i){var r=e.call(this)||this;return r._danielActing=!1,r.configLoaded=function(){r._config=r._assets.getResult("scene_config"),r._assets.loadManifest(r._config.manifest,r.sceneAssetsLoaded),r._charactersToLoad=_.Utils.ArrayUtils.clone(r._config.characters)},r.autopick=function(){l.Wiggle.getInstance().AutopickList.length<1&&(r._autopickList=o(r._config.characters),l.Wiggle.getInstance().AutopickList=_.Utils.ArrayUtils.shuffleArray(r._autopickList)),r.chooseCharacter(l.Wiggle.getInstance().AutopickList.pop())},r.onIntroLineComplete=function(){r._danielActing=!1,r._actorRig.loopAnimation("idle"),createjs.Tween.get(r).wait(r._config.hintWait[0]).call(r.playHint)},r.onHintComplete=function(){r._danielActing=!1,r._danielRig.loopAnimation("idle"),createjs.Tween.get(r).wait(r._config.hintWait[1]).call(r.playHint)},r.playHint=function(){r._characterPicked||(r._danielActing=!0,r._danielRig.playAnimation("hint",r.onHintComplete))},r.characterSelected=function(e){r.chooseCharacter(e.currentTarget.name)},r.characterLoaded=function(e){0==r._charactersToLoad.length?r.setupScene():r.loadNextCharacter()},r.sceneAssetsLoaded=function(){0==r._charactersToLoad.length?r.setupScene():r.loadNextCharacter()},r.loadNextCharacter=function(){var e=r._charactersToLoad.shift();null==e?r.setupScene():null==l.Wiggle.getInstance().Characters.get(e)?l.Wiggle.getInstance().Characters.set(e,new h.DanceCharacter(e,l.Wiggle.getInstance().CharacterData.get(e).dragonBonesData,r.characterLoaded)):r.loadNextCharacter()},r._readyCallback=i,r._tripCount=n,r._outroCharacter=a,r._assets=new c.AssetPackage,r._assets.loadManifest([c.AssetPackage.makeManifestItem("scene_config",t.config,"json")],r.configLoaded),r}return i(t,e),t.prototype.setupScene=function(){this._bg=this._assets.getBitmap("background"),this._bg.scaleX=this._bg.scaleY=u.SpringrollGame.getInstance().height/this._bg.getBounds().height,this._bg.x=(u.SpringrollGame.getInstance().width-this._bg.getBounds().width*this._bg.scaleX)/2,this.addChild(this._bg);for(var e=0;e<this._config.characters.length;e++){var t=l.Wiggle.getInstance().Characters.get(this._config.characters[e]);t.x=u.SpringrollGame.getInstance().width*this._config.positioning.characters[this._config.characters[e]].x,t.y=u.SpringrollGame.getInstance().height*this._config.positioning.characters[this._config.characters[e]].y,t.scaleX=t.scaleY=this._config.positioning.characters[this._config.characters[e]].scale*this._bg.scaleX,t.rig.loopAnimation("idle"),t.addEventListener("mousedown",this.characterSelected),this.addChild(t)}this._fg=this._assets.getBitmap("foreground"),this._fg.scaleX=this._fg.scaleY=this._bg.scaleX,this._fg.x=this._bg.x,this.addChild(this._fg),this.resize({width:l.Wiggle.getInstance().width,height:l.Wiggle.getInstance().height}),this._danielRig=l.Wiggle.getInstance().Characters.get("Daniel").rig,null!=this._outroCharacter?this._actorRig=l.Wiggle.getInstance().Characters.get(this._outroCharacter).rig:this._actorRig=this._danielRig,this._autopicker={},null==l.Wiggle.getInstance().AutopickList&&(this._autopickList=o(this._config.characters),l.Wiggle.getInstance().AutopickList=_.Utils.ArrayUtils.shuffleArray(this._autopickList)),this._readyCallback()},t.prototype.start=function(){this._danielActing=!0,1==this._tripCount?this._actorRig.playAnimation("intro",this.onIntroLineComplete):this._actorRig.playAnimation("outro",this.onIntroLineComplete),createjs.Tween.get(this._autopicker).wait(this._config.autopick).call(this.autopick),this._song=g.AudioManager.getInstance().playMusic(this._config.song,!0,1e3)},t.prototype.allowSelection=function(){for(var e=0;e<this._config.characters.length;e++){l.Wiggle.getInstance().Characters.get(this._config.characters[e]).addEventListener("mousedown",this.characterSelected)}},t.prototype.chooseCharacter=function(e){var t=this;this._characterPicked=!0,createjs.Tween.removeTweens(this),createjs.Tween.removeTweens(this._autopicker),this._danielActing&&(g.AudioManager.getInstance().killSoundById(this._danielRig.CurrentVOID),this._danielRig.stopAnimation(!0),this._danielRig.playAnimation("idle")),this._actorRig&&(this._actorRig.stopAnimation(!0),this._actorRig.playAnimation("idle")),l.Wiggle.getInstance().Characters.get(e).rig.stopAnimation(!0);for(var n=0;n<this._config.characters.length;n++){l.Wiggle.getInstance().Characters.get(this._config.characters[n]).removeEventListener("mousedown",this.characterSelected)}l.Wiggle.getInstance().Characters.get(e).rig.playAnimation(this._config.anims.picked,(function(){g.AudioManager.getInstance().stopMusic(t._song.uniqueId,1e3),t.dispatchEvent(new d.SceneLoadEvent(d.SceneLoadEvent.SCENE_REQUEST,p.Constants.Scenes.DANCE_SCENE,{character:e}))}))},t.prototype.resize=function(e){var t=e.width,n=e.height,a=(t/n-p.Constants.Gameplay.ASPECT_RATIO_MIN)/(p.Constants.Gameplay.ASPECT_RATIO_MAX-p.Constants.Gameplay.ASPECT_RATIO_MIN);this._bg.scaleX=this._bg.scaleY=n/this._bg.getBounds().height,this._bg.x=(t-this._bg.getBounds().width*this._bg.scaleX)/2,this._fg.scaleX=this._fg.scaleY=this._bg.scaleX,this._fg.x=this._bg.x;for(var i=0;i<this._config.characters.length;i++){var r=l.Wiggle.getInstance().Characters.get(this._config.characters[i]);r.scaleX=r.scaleY=this._config.positioning.characters[this._config.characters[i]].scale*this._bg.scaleX,r.x=u.SpringrollGame.getInstance().width*((this._config.positioning.characters[this._config.characters[i]].x.max-this._config.positioning.characters[this._config.characters[i]].x.min)*a+this._config.positioning.characters[this._config.characters[i]].x.min),r.y=u.SpringrollGame.getInstance().height*((this._config.positioning.characters[this._config.characters[i]].y.max-this._config.positioning.characters[this._config.characters[i]].y.min)*a+this._config.positioning.characters[this._config.characters[i]].y.min)}},t.prototype.destroy=function(){for(var e=0;e<this._config.characters.length;e++){var t=l.Wiggle.getInstance().Characters.get(this._config.characters[e]);t.rig.stopAnimation(!0),t.removeEventListener("mousedown",this.characterSelected),this.removeChild(t)}createjs.Tween.removeTweens(this),createjs.Tween.removeTweens(this._autopicker)},t}(s.GameScreen);t.IntroScene=f},322:function(e,t,n){"use strict";var a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.DragonBonesCharacter=t.DBTools=t.DBGenerator=void 0;var i=n(38),r=n(323),o=function(){function e(){this.factory=new dragonBones.factorys.CreateJSFactory}return Object.defineProperty(e.prototype,"Factory",{get:function(){return this.factory},enumerable:!1,configurable:!0}),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.createCharacter=function(e,t,n){this.characters.set(e,new c(e,t,n))},e}();t.DBGenerator=o;var s=function(){function e(){}return e.compressSkeleton=function(t,n){if(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/"displayIndex":/g,"~di")).replace(/"skX":/g,"~kX")).replace(/"skY":/g,"~kY")).replace(/"scX":/g,"~cX")).replace(/"scY":/g,"~cY")).replace(/"transform":/g,"~t")).replace(/"duration":/g,"~u")).replace(/"scale":/g,"~s")).replace(/"frame":/g,"~f")).replace(/"tweenEasing":/g,"~w")).replace(/"parent":/g,"~p")).replace(/"animation":/g,"~a")).replace(/"timeline":/g,"~i")).replace(/"name":/g,"~n")).replace(/"display":/g,"~d")).replace(/"offset":/g,"~o")).replace(/"type":/g,"~e")).replace(/"x":/g,"~x")).replace(/"y":/g,"~y")).replace(/"z":/g,"~z")).replace(/"pX":/g,"~j")).replace(/"pY":/g,"~k")).replace(/},{/g,"#")).concat(e.COMPRESSED),n){var a=new Blob([t],{type:"text/plain;charset=utf-8"});r.saveAs(a,"skeleton.txt")}return t},e.uncompressSkeleton=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/~di/g,'"displayIndex":')).replace(/~kX/g,'"skX":')).replace(/~kY/g,'"skY":')).replace(/~cX/g,'"scX":')).replace(/~cY/g,'"scY":')).replace(/~t/g,'"transform":')).replace(/~u/g,'"duration":')).replace(/~s/g,'"scale":')).replace(/~f/g,'"frame":')).replace(/~w/g,'"tweenEasing":')).replace(/~p/g,'"parent":')).replace(/~a/g,'"animation":')).replace(/~i/g,'"timeline":')).replace(/~n/g,'"name":')).replace(/~d/g,'"display":')).replace(/~o/g,'"offset":')).replace(/~e/g,'"type":')).replace(/~x/g,'"x":')).replace(/~y/g,'"y":')).replace(/~z/g,'"z":')).replace(/~j/g,'"pX":')).replace(/~k/g,'"pY":')).replace(/#/g,"},{"),JSON.parse(e)},e.COMPRESSED="COMPRESSEDSKELETON",e.VERSION="0.1.1",e}();t.DBTools=s;var c=function(){function e(e,t,n){var a=this;this.ready=!1,this.defaultIdle="",this._suppressAudio=!1,this.onAnimationComplete=function(e){console.info("Character ["+a.name+"] animation complete. Callback."),a.armature.removeEventListener("complete",a.onAnimationComplete),null!=a.animationCompleteCallback&&(a.animationCompleteCallback(e),a.animationCompleteCallback=void 0),""!=a.defaultIdle&&(a.loopAnimation(a.defaultIdle).tweenEnabled=!0)},this.onQueueComplete=function(e){var t,n=a.loadQueue.getResult(a.data.skeleton.id,!0);-1!=n.indexOf(s.COMPRESSED)?(console.log("Compressed"),n=n.slice(0,n.indexOf(s.COMPRESSED)),t=s.uncompressSkeleton(n)):(console.log("Not Compressed"),t=JSON.parse(n));var i=t;console.log(i);var r=JSON.parse(a.loadQueue.getResult(a.data.textureJSON.id,!0));console.log(r),o.getInstance().Factory.addSkeletonData(dragonBones.objects.DataParser.parseSkeletonData(i));var c=new dragonBones.textures.CreateJSTextureAtlas(a.loadQueue.getResult(a.data.texture.id),r);o.getInstance().Factory.addTextureAtlas(c),a.armature=o.getInstance().Factory.buildArmature(a.data.armatureName),a.armature.addEventListener("boneFrameEvent",a.onBoneFrameEvent),a.display=a.armature.getDisplay(),dragonBones.animation.WorldClock.clock.add(a.armature),a.preloadAudio(i)},this.onBoneFrameEvent=function(e){-1!=e.frameLabel.indexOf("vo_")?(null!=a._currentVOID&&i.AudioManager.getInstance().killSoundById(a._currentVOID),a._suppressAudio||(a._currentVOID=i.AudioManager.getInstance().playVO(e.frameLabel.split("vo_")[1]))):-1!=e.frameLabel.indexOf("sfx_")?a._suppressAudio||i.AudioManager.getInstance().playSFX(e.frameLabel.split("sfx_")[1]):i.AudioManager.getInstance().playSound(e.frameLabel)},this.characterAudioLoaded=function(){a.audioLoaded=!0,null!=a.readyCallback&&a.readyCallback(a)},this.name=e,this.data=t,this.loadQueue=new createjs.LoadQueue,this.loadQueue.setPreferXHR(!0),this.loadQueue.setMaxConnections(1),this.loadQueue.addEventListener("complete",this.onQueueComplete),this.loadQueue.loadManifest([t.skeleton,t.texture,t.textureJSON]),this.readyCallback=n}return Object.defineProperty(e.prototype,"CurrentVOID",{get:function(){return this._currentVOID},enumerable:!1,configurable:!0}),e.prototype.supressAudio=function(e){this._suppressAudio=e},e.prototype.playAnimation=function(e,t){if(this.stopAnimation(),this.armature.animation.hasAnimation(e)){null!=t&&(this.animationCompleteCallback=t);var n=this.armature.animation.gotoAndPlay(e);return console.info(this.name+" play animation "+e),this.armature.addEventListener("complete",this.onAnimationComplete),n}return console.warn("Animation does not contain label ["+e+"]"),null},e.prototype.loopAnimation=function(e,t){if(this.armature.animation.hasAnimation(e))return this.armature.animation.gotoAndPlay(e,-1,-1,1e3);console.warn("Animation does not contain label ["+e+"]")},e.prototype.stopAnimation=function(e){void 0===e&&(e=!1),e&&(this.animationCompleteCallback=null,this.armature.removeEventListener("complete",this.onAnimationComplete)),this.armature.animation.stop(),null!=this._currentVOID&&i.AudioManager.getInstance().killSoundById(this._currentVOID)},e.prototype.setDefaultIdle=function(e){this.defaultIdle=e},e.prototype.preloadAudio=function(e){var t,n,r,o,s,c,l,u,h=[];this.audioLoaded=!1;try{for(var d=a(e.armature),p=d.next();!p.done;p=d.next()){var g=p.value;try{for(var _=(r=void 0,a(g.animation)),f=_.next();!f.done;f=_.next()){var y=f.value;try{for(var v=(s=void 0,a(y.timeline)),m=v.next();!m.done;m=v.next()){var C=m.value;try{for(var w=(l=void 0,a(C.frame)),S=w.next();!S.done;S=w.next()){var b=S.value;if(null!=b.event){var A="";b.event.indexOf("vo_")>-1?A=b.event.substr(3):b.event.indexOf("sfx_")>-1&&(A=b.event.substr(4)),h.push({id:A,src:this.data.audioPath.concat(A)+".mp3",type:"sound"})}}}catch(e){l={error:e}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}}catch(e){s={error:e}}finally{try{m&&!m.done&&(c=v.return)&&c.call(v)}finally{if(s)throw s.error}}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(o=_.return)&&o.call(_)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}h.length>0?i.AudioManager.getInstance().loadAudioManifest(h,this.characterAudioLoaded):(this.audioLoaded=!0,null!=this.readyCallback&&this.readyCallback(this))},e}();t.DragonBonesCharacter=c},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0,function(e){var t=function(){function e(){}return e.shuffleArray=function(e){for(var t=[];e.length>0;)t.push(e.splice(Math.floor(Math.random()*e.length),1)[0]);return t},e.clone=function(e){var t=JSON.stringify(e);return JSON.parse(t)},e}();e.ArrayUtils=t}(t.Utils||(t.Utils={}))},326:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Curtain=void 0;var r=n(327),o=n(45),s=n(63),c=function(e){function t(t){for(var n=e.call(this)||this,a=0;a<o.Constants.Gameplay.BASE_WIDTH/t.getBounds().width;a++){var i=t.clone();i.x=a*i.getBounds().width,i.y=o.Constants.Gameplay.BASE_HEIGHT,n.addChild(i)}var r=new createjs.Shape;return r.graphics.beginFill(o.Constants.Gameplay.CURTAIN_COLOR),r.graphics.drawRect(0,0,o.Constants.Gameplay.BASE_WIDTH,o.Constants.Gameplay.BASE_HEIGHT),r.graphics.endFill(),n.addChild(r),n.resize({width:s.Wiggle.getInstance().width,height:s.Wiggle.getInstance().height}),n}return i(t,e),t.prototype.resize=function(e){e.width;var t=e.height;this.scaleX=this.scaleY=t/o.Constants.Gameplay.BASE_HEIGHT},t.prototype.forceOut=function(){this.y=-1*s.Wiggle.getInstance().height},t.prototype.forceIn=function(){this.y=0},t.prototype.in=function(e,t){this.forceOut(),createjs.Tween.get(this).to({y:0},400,createjs.Ease.sineIn).call(e,[t])},t.prototype.out=function(e,t){this.forceIn(),createjs.Tween.get(this).to({y:-1*s.Wiggle.getInstance().height},400,createjs.Ease.sineIn).call(e,[t])},t}(r.Transition);t.Curtain=c},327:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Transition=void 0;var r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.resize=function(e){e.width,e.height;throw new Error("resize not implemented on "+this.name)},t.prototype.in=function(e){throw new Error("in not implemented on "+this.name)},t.prototype.out=function(e){throw new Error("out not implemented on "+this.name)},t}(createjs.Container);t.Transition=r},328:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Metronome=t.Prop=t.Curtain=t.DanceScreen=t.DanceScene=void 0;var o=n(94),s=n(50),c=n(63),l=n(129),u=n(38),h=n(45),d=n(65),p=function(e){function t(t,n,a){var i=e.call(this)||this;return i._playtime=0,i._songPlaying=!1,i.configLoaded=function(){i._config=i._assets.getResult("scene_config");for(var e=0;e<i._config.dances.length;e++)if(i._config.dances[e].character==i._character){i._danceConfig=i._config.dances[e];break}if(i._charactersLoaded=0,null==i._danceConfig)throw new Error("No dance defined in data file for "+i._character);for(e=0;e<i._danceConfig.dance.length;e++)null==c.Wiggle.getInstance().Characters.get(i._danceConfig.dance[e].friend)?c.Wiggle.getInstance().Characters.set(i._danceConfig.dance[e].friend,new l.DanceCharacter(i._danceConfig.dance[e].friend,c.Wiggle.getInstance().CharacterData.get(i._danceConfig.dance[e].friend).dragonBonesData,i.characterLoaded)):(console.info(i._danceConfig.dance[e].friend+" is already loaded"),i._charactersLoaded++);i._screens=new Map;for(e=0;e<i._danceConfig.screens.length;e++)i._screens.set(i._danceConfig.screens[e].id,i._danceConfig.screens[e]);var t=i._config.manifest;t=t.concat(i._danceConfig.manifest),i._assets.loadManifest(t,i.sceneAssetsLoaded)},i.tippyTap=function(e){var t=i._assets.getSpriteFromSheet(i._config.tapFX);i.addChild(t),t.scaleX=t.scaleY=c.Wiggle.getInstance().height/h.Constants.Gameplay.BASE_HEIGHT,t.x=e.stageX-t.getBounds().width*t.scaleX*.5,t.y=e.stageY-t.getBounds().height*t.scaleX*.5,t.addEventListener("animationend",(function(e){e.target.stop(),i.removeChild(e.target),e.target=null})),t.play()},i.advanceSong=function(){i._transition.alpha=0,i.addChild(i._transition),i._onDanceStep+=.5,i._transitionTween=createjs.Tween.get(i._transition).to({alpha:1},200).call(i.gotoNextScreen)},i.gotoNextScreen=function(){var e,t,n,a;null!=i._currentScreen&&(i.removeChild(i._currentScreen.Container),i._currentScreen.destroy(),i._currentScreen=null),i._currentMove=i._danceConfig.dance[Math.floor(i._onDanceStep)],n=i._onDanceStep%1==0?c.Wiggle.getInstance().Characters.get(i._danceConfig.character):c.Wiggle.getInstance().Characters.get(i._currentMove.friend),a=i._onDanceStep%1==0?i._screens.get(i._danceConfig.mainScreen):i._screens.get(i._currentMove.screen),i._currentScreen=new g,i._currentScreen.addBG(i._assets.getBitmap(a.bg)),i._currentScreen.addCharacter(n,a.character);try{for(var o=r(a.props),s=o.next();!s.done;s=o.next()){var l=s.value;i._currentScreen.addProp(new f(i._assets.getSpriteFromSheet(l.id),l))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}a.curtain.position!=g.CURTAIN_NONE&&i._currentScreen.addCurtain(new _(i._assets.getBitmap(a.curtain.id),a.curtain)),i._currentScreen.resize({width:c.Wiggle.getInstance().width,height:c.Wiggle.getInstance().height}),0==i._onDanceStep?i.addChild(i._currentScreen.Container):i.addChildAt(i._currentScreen.Container,i.getChildIndex(i._transition)),i._moveStartTween=createjs.Tween.get(i._timer).wait((createjs.Ticker.getTime(!0)-i._songStartTime)%1e3).call(i.playMove)},i.playMove=function(){i._onDanceStep>=i._danceConfig.dance.length?(i._currentScreen.character.rig.playAnimation("all3",i.finaleComplete),i._transitionTween=createjs.Tween.get(i._transition).to({alpha:0},200)):(i._currentScreen.character.rig.loopAnimation(i._currentMove.move),i._transitionTween=createjs.Tween.get(i._transition).to({alpha:0},200),0==i._onDanceStep||i._onDanceStep%1==0?null!=i._currentMove.vo&&(i._moveVOTween=createjs.Tween.get(i._timer).wait(i._config.dancecallDelay).call(i.playVO,[i._currentMove.vo])):i._onDanceStep%1==.5&&null!=i._currentMove.vo2&&(i._moveVOTween=createjs.Tween.get(i._timer).wait(i._config.dancecallDelay).call(i.playVO,[i._currentMove.vo2])),i._onDanceStep>0&&(i._moveVOTween=createjs.Tween.get(i._timer).wait(i._config.danceTime).call(i.advanceSong)))},i.playVO=function(e){u.AudioManager.getInstance().addEventListener(u.AudioManagerEvent.AUDIO_COMPLETE,i.onAudioComplete),i._currentScreen.character.rig.supressAudio(!0),i._moveVOid=u.AudioManager.getInstance().playVO(e)},i.onAudioComplete=function(e){i._moveVOid==e.Data&&(u.AudioManager.getInstance().removeEventListener(u.AudioManagerEvent.AUDIO_COMPLETE,i.onAudioComplete),i._currentScreen.character.rig.supressAudio(!1))},i.finaleComplete=function(){i._currentScreen.character.rig.stopAnimation(!0),i._currentScreen.character.rig.playAnimation(i._danceConfig.dance[i._danceConfig.dance.length-1].move),u.AudioManager.getInstance().Dispatcher.addEventListener(u.AudioManager.FADE_OUT_COMPLETE,i.danceComplete),u.AudioManager.getInstance().stopMusic(i._song.uniqueId,1e3)},i.danceComplete=function(){i._currentScreen.character.rig.supressAudio(!1),u.AudioManager.getInstance().Dispatcher.removeAllEventListeners(),i.dispatchEvent(new d.SceneLoadEvent(d.SceneLoadEvent.SCENE_REQUEST,h.Constants.Scenes.INTRO_SCENE))},i.announceReady=function(e){u.AudioManager.getInstance().Dispatcher.removeAllEventListeners(),i._readyCallback()},i.sceneAssetsLoaded=function(){i._charactersLoaded>=i._danceConfig.dance.length&&i.setupScene()},i.characterLoaded=function(e){i._charactersLoaded++,i._charactersLoaded>=i._danceConfig.dance.length&&i._assets.loaded&&i.setupScene()},i.name=h.Constants.Scenes.DANCE_SCENE,i._readyCallback=a,i._assets=new s.AssetPackage,i._character=n,i._assets.loadManifest([s.AssetPackage.makeManifestItem("scene_config",t.config,"json")],i.configLoaded),i._transition=new createjs.Shape,i._transition.graphics.beginFill(h.Constants.Gameplay.CURTAIN_COLOR),i._transition.graphics.drawRect(0,0,c.Wiggle.getInstance().width,c.Wiggle.getInstance().height),i._transition.graphics.endFill(),i._transition.cache(0,0,c.Wiggle.getInstance().width,c.Wiggle.getInstance().height),i._timer={},i}return i(t,e),t.prototype.destroy=function(){this.removeAllEventListeners(),u.AudioManager.getInstance().removeEventListener(u.AudioManagerEvent.AUDIO_COMPLETE,this.onAudioComplete),createjs.Tween.removeTweens(this),createjs.Tween.removeTweens(this._transition),u.AudioManager.getInstance().Dispatcher.removeAllEventListeners(),null!=this._currentScreen&&(null!=this._currentScreen.Container.parent&&this._currentScreen.Container.parent.removeChild(this._currentScreen.Container),this._currentScreen.destroy(),this._currentScreen=null),this._song,this.removeAllChildren()},t.prototype.setupScene=function(){console.info("Setting up Dance Scene..."),this._onDanceStep=0,this.gotoNextScreen(),u.AudioManager.getInstance().Dispatcher.addEventListener(u.AudioManager.FADE_IN_COMPLETE,this.announceReady),this._song=u.AudioManager.getInstance().playMusic(this._danceConfig.song,!0,1e3),this._songStartTime=createjs.Ticker.getTime(!0),this._songPlaying=!0},t.prototype.start=function(){this._activeDanceTween=createjs.Tween.get(this._timer).wait(this._config.danceTime).call(this.advanceSong),this.addEventListener("mousedown",this.tippyTap)},t.prototype.update=function(t){e.prototype.update.call(this,t)},t.prototype.pause=function(e){e?(null!=this._activeTween&&this._activeTween.pause(),null!=this._activeDanceTween&&this._activeDanceTween.pause(),null!=this._transitionTween&&this._transitionTween.pause(),null!=this._moveStartTween&&this._moveStartTween.pause(),null!=this._moveVOTween&&this._moveVOTween.pause()):(null!=this._activeTween&&this._activeTween.play(),null!=this._activeDanceTween&&this._activeDanceTween.play(),null!=this._transitionTween&&this._transitionTween.play(),null!=this._moveStartTween&&this._moveStartTween.play(),null!=this._moveVOTween&&this._moveVOTween.play())},t.prototype.resize=function(e){var t=e.width,n=e.height;this._currentScreen.resize({width:t,height:n}),this._transition.uncache(),this._transition.graphics.clear(),this._transition.graphics.beginFill(h.Constants.Gameplay.CURTAIN_COLOR),this._transition.graphics.drawRect(0,0,t,n),this._transition.graphics.endFill(),this._transition.cache(0,0,t,n)},t.INITIAL="initialMove",t.FOLLOWUP="followupMove",t}(o.GameScreen);t.DanceScene=p;var g=function(){function e(){this._main=new createjs.Container,this._backLayer=new createjs.Container,this._main.addChild(this._backLayer),this._propLayer=new createjs.Container,this._main.addChild(this._propLayer),this._kidLayer=new createjs.Container,this._main.addChild(this._kidLayer),this._foreLayer=new createjs.Container,this._main.addChild(this._foreLayer),this._props=new Array}return Object.defineProperty(e.prototype,"Container",{get:function(){return this._main},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"character",{get:function(){return this._character},enumerable:!1,configurable:!0}),e.prototype.addBG=function(e){this._background=e,this._backLayer.addChild(this._background)},e.prototype.addCurtain=function(t){this._curtain=t,this._curtain.scaleX=this._curtain.scaleY=c.Wiggle.getInstance().height/this._curtain.getBounds().height,this._curtain.position==e.CURTAIN_RIGHT&&(this._curtain.x=c.Wiggle.getInstance().width-this._curtain.getBounds().width*this._curtain.scaleX),this._main.addChild(t)},e.prototype.addProp=function(t){this._props.push(t),t.x=c.Wiggle.getInstance().width*t.position.x,t.y=c.Wiggle.getInstance().height*t.position.y,t.scaleX=t.scaleY=t.position.scale*c.Wiggle.getInstance().height/h.Constants.Gameplay.BASE_HEIGHT,null!=t.position.invert&&t.position.invert&&(t.scaleX*=-1),t.position.layer==e.LAYER_FRONT?this._foreLayer.addChild(t):this._backLayer.addChild(t)},e.prototype.addCharacter=function(e,t){this._character=e,this._characterPosition={x:t.x,y:t.y,scale:t.scale},this._kidLayer.addChild(this._character)},e.prototype.resize=function(t){var n,a,i=t.width,o=t.height;if(this._background.scaleX=this._background.scaleY=o/this._background.getBounds().height,this._character.scaleX=this._character.scaleY=this._background.scaleX*this._characterPosition.scale,this._character.x=i*this._characterPosition.x,this._character.y=o*this._characterPosition.y,this._props.length>0)try{for(var s=r(this._props),c=s.next();!c.done;c=s.next()){var l=c.value;l.x=i*l.position.x,l.y=o*l.position.y,l.scaleX=l.scaleY=l.position.scale*this._background.scaleX,null!=l.position.invert&&l.position.invert&&(l.scaleX*=-1)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}null!=this._curtain&&(this._curtain.scaleX=this._curtain.scaleY=this._background.scaleX,this._curtain.position==e.CURTAIN_RIGHT&&(this._curtain.x=i-this._curtain.getBounds().width*this._curtain.scaleX))},e.prototype.destroy=function(){this.character.rig.stopAnimation(!0),this._backLayer.removeChild(this._background),this._kidLayer.removeChild(this._character)},e.LAYER_BACK="back",e.LAYER_FRONT="front",e.CURTAIN_NONE="none",e.CURTAIN_LEFT="left",e.CURTAIN_RIGHT="right",e}();t.DanceScreen=g;var _=function(e){function t(t,n){var a=e.call(this)||this;return a._data=n,a.addChild(t),n.invert&&(t.scaleX*=-1,t.x=t.getBounds().width),a}return i(t,e),Object.defineProperty(t.prototype,"position",{get:function(){return this._data.position},enumerable:!1,configurable:!0}),t}(createjs.Container);t.Curtain=_;var f=function(e){function t(n,a){var i=e.call(this)||this;return i._img=n,i._data=a,i._img.x=-.5*i._img.getBounds().width,a.align==t.ALIGN_BOTTOM&&(i._img.y=-1*i._img.getBounds().height),i.addChild(i._img),i}return i(t,e),Object.defineProperty(t.prototype,"position",{get:function(){return this._data.position},enumerable:!1,configurable:!0}),t.ALIGN_BOTTOM="bottom",t.ALIGN_TOP="top",t}(createjs.Container);t.Prop=f;var y=function(e){function t(t){var n=e.call(this)||this;return n.blink=function(){n._pulse.visible=!n._pulse.visible,createjs.Tween.get(n).wait(n._timing).call(n.blink)},n._pulse=new createjs.Shape,n._pulse.graphics.beginFill("red"),n._pulse.graphics.drawCircle(0,0,100),n._pulse.graphics.endFill(),n._timing=t,n.addChild(n._pulse),n.blink(),n}return i(t,e),t}(createjs.Container);t.Metronome=y},38:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioEvent=t.AudioManagerEvent=t.AudioConstants=t.AudioManager=void 0;var o=function(e){function t(n){var a=e.call(this)||this;return a.onQueueLoadComplete=function(e){if(a._activelyLoading=!1,null!=a.loadedCallback&&(a.loadedCallback(),a.loadedCallback=void 0),a.queue.removeEventListener("complete",a.onQueueLoadComplete),a.delayedManifests.length>0){a.queue.addEventListener("complete",a.onQueueLoadComplete),a._activelyLoading=!0;var t=a.delayedManifests.shift();a.loadedCallback=a._callbacks.get(t),a._callbacks.delete(t),a.queue.loadManifest(t)}},a.playSound=function(e){var t=createjs.Sound.play(a.idCheck(e));t.setVolume(a.volumeMap.get(s.SOUND)),t.addEventListener("complete",a.audioComplete),a.activeSounds.set(t.uniqueId,t)},a.playVO=function(e){if(null!=a.queue.getItem(e)&&null!=a.idCheck(e)){a.dispatchEvent(new l(l.PLAY_VO,t.GetFileNameFromPath(a.queue.getItem(a.idCheck(e)).src)));var n=createjs.Sound.play(a.idCheck(e));return n.volume=a.volumeMap.get(s.VO),n.addEventListener("complete",a.audioComplete),a.activeSounds.set(n.uniqueId,n),n.uniqueId}return console.warn("VO with ID ("+e+") is not loaded and will not play."),null},a.playSFX=function(e){if(null!=a.queue.getItem(e)&&null!=a.idCheck(e)){var t=createjs.Sound.play(a.idCheck(e));return t.volume=a.volumeMap.get(s.SFX),t.addEventListener("complete",a.audioComplete),a.activeSounds.set(t.uniqueId,t),t}return console.warn("SFX with ID ("+e+") is not loaded and will not play."),null},a.playMusic=function(e,t,n){var i=new createjs.PlayPropsConfig;t&&(i.loop=-1),i.volume=n>0?0:a.volumeMap.get(s.MUSIC);var r=createjs.Sound.play(a.idCheck(e),i);return n>0&&createjs.Tween.get(r).to({volume:a.volumeMap.get(s.MUSIC)},n).call(a.fadeInComplete),r.addEventListener("complete",a.audioComplete),a.activeSounds.set(r.uniqueId,r),r},a.stopMusic=function(e,n){var i=a.activeSounds.get(e);n>0?createjs.Tween.get(i).to({volume:0},n).call((function(){i.stop(),i.removeAllEventListeners(),a.activeSounds.delete(e),i.destroy(),i=null,a._dispatcher.dispatchEvent(new createjs.Event(t.FADE_OUT_COMPLETE,!1,!1))})):(i.stop(),i.removeAllEventListeners(),a.activeSounds.delete(e),i.destroy(),i=null)},a.fadeInComplete=function(){a._dispatcher.dispatchEvent(new createjs.Event(t.FADE_IN_COMPLETE,!1,!1))},a.audioComplete=function(e){var t=e.currentTarget;a.dispatchEvent(new c(c.AUDIO_COMPLETE,t.uniqueId)),t.removeAllEventListeners(),a.activeSounds.delete(t.uniqueId),t.destroy(),t=null},a.queue=new createjs.LoadQueue,a.queue.setPreferXHR(!0),a.queue.setMaxConnections(1),createjs.Sound.registerPlugins([createjs.WebAudioPlugin]),createjs.Sound.alternateExtensions=["ogg","mp3"],a.queue.installPlugin(createjs.Sound),a.volumeMap=new Map,a.volumeMap.set(s.SOUND,1),a.volumeMap.set(s.MUSIC,1),a.volumeMap.set(s.SFX,1),a.volumeMap.set(s.VO,1),a.activeSounds=new Map,a._dispatcher=new createjs.EventDispatcher,a._idMapper=new Map,a.delayedManifests=[],a._callbacks=new Map,a}return i(t,e),t.GetFileNameFromPath=function(e){return e.split(/.*[\/|\\]/)[1].split(".")[0]},Object.defineProperty(t.prototype,"Dispatcher",{get:function(){return this._dispatcher},enumerable:!1,configurable:!0}),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.loadAudioManifest=function(e,t){e=this.cleanManifest(e),e=this.checkForDupes(e),null!=t&&this._callbacks.set(e,t),0==e.length?(this.loadedCallback=t,this.onQueueLoadComplete()):this._activelyLoading?this.delayedManifests.push(e):(this.queue.addEventListener("complete",this.onQueueLoadComplete),this._activelyLoading=!0,this.loadedCallback=t,this._callbacks.delete(e),this.queue.loadManifest(e))},t.prototype.cleanManifest=function(e){var t=new Array;t.push(e.pop());for(var n=e.length-1;n>=0;n--){for(var a=!0,i=0;i<t.length;i++)t[i].src==e[n].src&&(a=!1,console.warn("Duplicate file found within manifest. Ignoring."),t[i].id!=e[n].id&&console.warn("That ignored file had a different id ["+e[n].id+"] - Use other previous ID instead ("+t[i].id+")"));var r=e.pop();a&&t.push(r)}return t},t.prototype.checkForDupes=function(e){for(var t=new Array,n=!0,a=0;a<e.length;a++){n=!0;for(var i=0;i<this.queue.getItems(!0).length;i++)if(this.queue.getItems(!0)[i].item.src==e[a].src){console.warn("Audio Manager already has item with src ("+e[a].src+") and will not attempt to load. Add to the mapper."),this._idMapper.set(e[a].id,this.queue.getItems(!0)[i].item.id),n=!1;break}n&&t.push(e[a])}return t},t.prototype.idCheck=function(e){return null!=this._idMapper.get(e)?this._idMapper.get(e):e},t.prototype.killSoundById=function(e){if(this.activeSounds.has(e)){var t=this.activeSounds.get(e);t.stop(),t.destroy(),this.activeSounds.delete(e)}},t.prototype.setPauseState=function(e){var t,n;try{for(var a=r(this.activeSounds.keys()),i=a.next();!i.done;i=a.next()){var o=i.value;this.activeSounds.get(o).paused=e}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},t.prototype.pauseAll=function(){var e,t;try{for(var n=r(this.activeSounds.keys()),a=n.next();!a.done;a=n.next()){var i=a.value;this.activeSounds.get(i).paused=!0}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.unpauseAll=function(){var e,t;try{for(var n=r(this.activeSounds.keys()),a=n.next();!a.done;a=n.next()){var i=a.value;this.activeSounds.get(i).paused=!1}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.killAll=function(){var e,t;try{for(var n=r(this.activeSounds.keys()),a=n.next();!a.done;a=n.next()){var i=a.value;this.activeSounds.get(i).stop(),this.activeSounds.get(i).destroy(),this.activeSounds.delete(i)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.FADE_IN_COMPLETE="fade_in_complete",t.FADE_OUT_COMPLETE="fade_out_complete",t}(createjs.EventDispatcher);t.AudioManager=o;var s=function(){function e(){}return e.SOUND="sound",e.MUSIC="music",e.SFX="sfx",e.VO="vo",e}();t.AudioConstants=s;var c=function(e){function t(t,n){var a=e.call(this,t,!1,!1)||this;return a._data=n,a}return i(t,e),Object.defineProperty(t.prototype,"Data",{get:function(){return this._data},enumerable:!1,configurable:!0}),t.AUDIO_COMPLETE="audiocomplete",t}(createjs.Event);t.AudioManagerEvent=c;var l=function(e){function t(t,n){var a=e.call(this,t,!1,!1)||this;return a._id=n,a}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.PLAY_VO="playVO",t}(createjs.Event);t.AudioEvent=l},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Constants=void 0,function(e){var t=function(){function e(){}return e.ASPECT_RATIO_MIN=1.333333,e.ASPECT_RATIO_MAX=2.222222,e.BASE_WIDTH=2500,e.BASE_HEIGHT=1125,e.ASSET_SCALE=.7,e.LOAD_MIN_TIME=1e3,e.CURTAIN_COLOR="#cf0f21",e}();e.Gameplay=t;var n=function(){function e(){}return e.SOUND="sound",e.MUSIC="music",e.SFX="sfx",e.VO="vo",e}();e.Audio=n;var a=function(){function e(){}return e.TITLESCREEN_DATA="titlescreen_data",e.GAME_DATA="game_data",e.CHARACTER_DATA="character_data",e.GLOBAL_ASSETS="global_assets",e}();e.Files=a;var i=function(){function e(){}return e.INTRO_SCENE="intro",e.DANCE_SCENE="dance",e}();e.Scenes=i}(t.Constants||(t.Constants={}))},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssetPackage=void 0;var a=n(38),i=function(){function e(e){var t=this;this._loaded=!1,this.loaded=!1,this.audioLoaded=function(){t._loadTracker.audioLoaded=!0,t._loadTracker.queueLoaded&&(t.loaded=!0,t._completeCallback())},this.manifestLoaded=function(e){t._loadTracker.queueLoaded=!0,t._loadTracker.audioLoaded&&(t.loaded=!0,t._completeCallback())},this._loadQueue=new createjs.LoadQueue(!0,e),this._loadQueue.setPreferXHR(!0),this._loadQueue.setMaxConnections(1),this._loadTracker={audioLoaded:!1,queueLoaded:!1}}return e.prototype.destroy=function(){this._loadQueue.destroy(),this._loadQueue=void 0,this._completeCallback=void 0,this.loaded=!1,this._loadTracker=void 0},e.prototype.loadManifest=function(e,t){if(this.loaded=!1,this._loadTracker.audioLoaded=!1,this._loadTracker.queueLoaded=!1,null!=t&&(this._completeCallback=t),e.length>0){this._loadQueue.addEventListener("complete",this.manifestLoaded);var n=this.extractAudioItems(e);n.length>0?a.AudioManager.getInstance().loadAudioManifest(n,this.audioLoaded):this._loadTracker.audioLoaded=!0,this._loadQueue.loadManifest(e)}},e.prototype.extractAudioItems=function(e){for(var t=[],n=e.length-1;n>=0;n--)("sound"==e[n].type||e[n].src.indexOf(".mp3")>-1||e[n].src.indexOf(".ogg")>-1||e[n].src.indexOf(".wav")>-1)&&t.push(e.splice(n,1)[0]);return t},e.makeManifestItem=function(e,t,n){return{id:e,src:t,type:n}},e.prototype.getSpriteFromSheet=function(e,t){if(null!=t&&""!=t)return new createjs.Sprite(this._loadQueue.getResult(t),e);for(var n=this._loadQueue.getItems(!0),a=0;a<n.length;a++){if("spritesheet"==n[a].item.type)if(-1!=this._loadQueue.getResult(n[a].item.id).animations.indexOf(e))return new createjs.Sprite(this._loadQueue.getResult(n[a].item.id),e)}return null},e.prototype.getBitmap=function(e){var t=this._loadQueue.getResult(e);return new createjs.Bitmap(t)},e.prototype.getResult=function(e){return this._loadQueue.getResult(e)},e}();t.AssetPackage=i},63:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Wiggle=void 0;var r=n(45),o=n(64),s=n(38),c=n(50),l=n(318),u=n(319),h=n(65),d=n(321),p=n(326),g=n(328),_=function(e){function t(n,a){var i=e.call(this,n,a)||this;i.sceneLoadRequest=function(e){switch(i._loadStartTime=createjs.Ticker.getTime(!0),i._scene.removeEventListener(h.SceneLoadEvent.SCENE_REQUEST,i.sceneLoadRequest),i.loadLayer.removeChild(i._transition),i._loadingScreen.alpha=1,i._loadingScreen.setSize({width:t.getInstance().width,height:t.getInstance().height}),i.loadLayer.addChild(i._loadingScreen),i.gameLayer.removeAllChildren(),i._scene.destroy(),i._scene=null,e.sceneId){case r.Constants.Scenes.INTRO_SCENE:i._introTrips++,i._scene=new d.IntroScene(i._sceneData.get(e.sceneId),i._introTrips,i._lastCharacter,i.screenReady),i._scene.addEventListener(h.SceneLoadEvent.SCENE_REQUEST,i.initiateTransition);break;case r.Constants.Scenes.DANCE_SCENE:i._lastCharacter=e.data.character,i._scene=new g.DanceScene(i._sceneData.get(e.sceneId),e.data.character,i.screenReady),i._scene.addEventListener(h.SceneLoadEvent.SCENE_REQUEST,i.initiateTransition)}},i.initiateTransition=function(e){i._loadingScreen.setColor(r.Constants.Gameplay.CURTAIN_COLOR,"#000000"),i._scene.removeEventListener(h.SceneLoadEvent.SCENE_REQUEST,i.initiateTransition),i._transition.in(i.sceneLoadRequest,e),i.loadLayer.addChild(i._transition)},i.assetsLoaded=function(){i._gameData=i.globalAssets.getResult(r.Constants.Files.GAME_DATA),i.addCaptions("captions",i.globalAssets.getResult("captions")),i._characterData=new Map;for(var e=i.globalAssets.getResult(r.Constants.Files.CHARACTER_DATA),t=0;t<e.characters.length;t++)i._characterData.set(e.characters[t].character,e.characters[t]);i._sceneData=new Map;for(t=0;t<i._gameData.scenes.length;t++)i._sceneData.set(i._gameData.scenes[t].id,i._gameData.scenes[t]);i._transition=new p.Curtain(i.globalAssets.getBitmap("curtain")),i._scene=new u.TitleScreen(i.globalAssets.getResult(r.Constants.Files.TITLESCREEN_DATA),r.Constants.Scenes.INTRO_SCENE,i.screenReady),i._scene.addEventListener(h.SceneLoadEvent.SCENE_REQUEST,i.sceneLoadRequest.bind(i)),i._app.state.pause.subscribe(i.pauseScene)},i.pauseScene=function(e){null!=i._scene&&i._scene.pause(e),e?(s.AudioManager.getInstance().pauseAll(),createjs.Ticker.removeEventListener("tick",i.update),createjs.Ticker.paused=!0):(s.AudioManager.getInstance().unpauseAll(),createjs.Ticker.addEventListener("tick",i.update),createjs.Ticker.paused=!1)},i.screenReady=function(){createjs.Ticker.getTime(!0)-i._loadStartTime>r.Constants.Gameplay.LOAD_MIN_TIME?i.transitionToScreen():createjs.Tween.get(i).wait(r.Constants.Gameplay.LOAD_MIN_TIME-(createjs.Ticker.getTime(!0)-i._loadStartTime),!0).call(i.transitionToScreen)},i.transitionToScreen=function(){i.gameLayer.addChild(i._scene),i._scene.name==r.Constants.Scenes.DANCE_SCENE?(i.loadLayer.addChild(i._transition),i._transition.resize({width:i.width,height:i.height}),i._loadingScreen.parent==i.loadLayer&&i.loadLayer.removeChild(i._loadingScreen),i._transition.out(i.startScreen)):(i._loadingScreen.parent==i.loadLayer&&i._loadingScreen.cache(0,0,o.SpringrollGame.getInstance().width,o.SpringrollGame.getInstance().height),createjs.Tween.get(i._loadingScreen).to({alpha:0},250,createjs.Ease.sineIn).call(i.startScreen))},i.startScreen=function(){i._scene.name==r.Constants.Scenes.DANCE_SCENE&&i.loadLayer.removeChild(i._transition),i.gameLayer.addChild(i._scene),i._loadingScreen.parent==i.loadLayer&&(i._loadingScreen.uncache(),i.loadLayer.removeChild(i._loadingScreen)),i._scene.start()},i.onKeyDown=function(e){32==e.which&&(i.app.state.pause.value=!i.app.state.pause.value)},i.update=function(t){i.app.state.pause.value||(dragonBones.animation.WorldClock.clock.advanceTime(t.delta/1e3),null!=i._scene&&i._scene.update(t),i.stage.update(t),e.prototype.update.call(i,t))},createjs.Ticker.framerate=60,createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,i._loadingScreen=new l.DTLoadingScreen({width:i.width,height:i.height}),i._loadingScreen.setSize({width:i.width,height:i.height}),i._loadingScreen.addEventListener("added",i._loadingScreen.start),i._loadingScreen.addEventListener("removed",i._loadingScreen.freeze),i.loadLayer.addChild(i._loadingScreen),i._characters=new Map,i._introTrips=0;var _=[];return _.push(c.AssetPackage.makeManifestItem(r.Constants.Files.GLOBAL_ASSETS,"assets/sheets/global.json","spritesheet")),_.push(c.AssetPackage.makeManifestItem(r.Constants.Files.TITLESCREEN_DATA,"assets/data/titlescreen_data.json","json")),_.push(c.AssetPackage.makeManifestItem(r.Constants.Files.GAME_DATA,"assets/data/game.json","json")),_.push(c.AssetPackage.makeManifestItem(r.Constants.Files.CHARACTER_DATA,"assets/data/character_data.json","json")),_.push(c.AssetPackage.makeManifestItem("captions","assets/config/captions.json","json")),_.push(c.AssetPackage.makeManifestItem("curtain","assets/images/TilingCurtain.png","image")),i.globalAssets=new c.AssetPackage,i.globalAssets.loadManifest(_,i.assetsLoaded),i}return i(t,e),Object.defineProperty(t.prototype,"AutopickList",{get:function(){return this._autopickList},set:function(e){this._autopickList=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GameData",{get:function(){return this._gameData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CharacterData",{get:function(){return this._characterData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Characters",{get:function(){return this._characters},enumerable:!1,configurable:!0}),t.getInstance=function(e,n){return t._instance||(t._instance=new t(e,n)),t._instance},t.prototype.resize=function(t){var n=t.width,a=t.height;e.prototype.resize.call(this,{width:n,height:a}),null!=this._loadingScreen&&this._loadingScreen.setSize({width:this.width,height:this.height}),null!=this._scene&&this._scene.resize({width:this.width,height:this.height}),null!=this._transition&&this._transition.parent==this.loadLayer&&this._transition.resize({width:this.width,height:this.height})},t.prototype.run=function(){createjs.Ticker.addEventListener("tick",this.update),window.addEventListener("keydown",this.onKeyDown)},t}(o.SpringrollGame);t.Wiggle=_},64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpringrollGame=void 0;var a=n(317),i=n(38),r=function(){function e(e,t){var n=this;this._isPaused=!1,this._isDebug=!1,this.changeCaptionsState=function(e){null!=n._captionsHolder&&(n._captionsHolder.style.display=e?"none":"block")},this.playCaption=function(e){n._captionsPlayer.start(e.id)},null==e&&(e=window.innerWidth),null==t&&(t=window.innerHeight),this._width=window.innerWidth,this._height=window.innerHeight;var i={},r={sfx:!0,sound:!0,music:!0,vo:!0,captions:!0};i.features=r,this._app=new a.Application(i),this._scaleManager=new a.ScaleManager(this.resize.bind(this)),this._stage=new createjs.Stage("stage"),createjs.Touch.enable(this._stage,!0),this._app.state.pause.subscribe(this.pause),this._app.state.soundVolume.subscribe(this.changeVolume),this._app.state.sfxVolume.subscribe(this.changeSfxVolume),this._app.state.musicVolume.subscribe(this.changeMusicVolume),this._app.state.voVolume.subscribe(this.changeVOVolume),this._app.state.captionsMuted.subscribe(this.changeCaptionsState),this._loadLayer=new createjs.Container,this._gameLayer=new createjs.Container,this._debugLayer=new createjs.Container,this.stage.addChild(this._gameLayer),this.stage.addChild(this._loadLayer),this.isDebug&&this.stage.addChild(this._debugLayer),this.BG=new createjs.Shape,this.BG.graphics.beginStroke("#0000ff"),this.BG.graphics.setStrokeStyle(10),this.BG.graphics.drawRect(0,0,this._width,this._height),this.BG.graphics.moveTo(0,0),this.BG.graphics.lineTo(this.width,this.height),this.BG.graphics.moveTo(this.width,0),this.BG.graphics.lineTo(0,this.height),this.BG.graphics.endStroke(),this._debugLayer.addChild(this.BG),this.resize({width:this._width,height:this._height})}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleManager",{get:function(){return this._scaleManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stage",{get:function(){return this._stage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return this._isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDebug",{get:function(){return this._isDebug},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CaptionPlayer",{get:function(){return this._captionsPlayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadLayer",{get:function(){return this._loadLayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameLayer",{get:function(){return this._gameLayer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugLayer",{get:function(){return this._debugLayer},enumerable:!1,configurable:!0}),e.getInstance=function(t,n){return e._baseInstance||(e._baseInstance=new e(t,n)),e._baseInstance},e.prototype.addCaptions=function(e,t,n){void 0===n&&(n="captionsHolder"),this._captionsElement=document.getElementById(e),this._captionsHolder=document.getElementById(n),this._captionsPlayer=new a.CaptionPlayer(t,new a.HtmlRenderer(this._captionsElement)),this.changeCaptionsState(this.app.state.captionsMuted.value),i.AudioManager.getInstance().addEventListener(i.AudioEvent.PLAY_VO,this.playCaption)},e.prototype.update=function(e){null!=this._captionsPlayer&&this._captionsPlayer.update(e.delta/1e3)},e.prototype.toggleDebug=function(e){this._isDebug=e,this.isDebug?this.stage.addChild(this._debugLayer):this.stage.removeChild(this._debugLayer)},e.prototype.resize=function(e){var t=e.width,n=e.height;t/n<4/3?n=t/(4/3):t/n>20/9&&(t=n*(20/9)),this._width=t,this._height=n,this.stage.canvas.setAttribute("width",t),this.stage.canvas.setAttribute("height",n),this.BG.graphics.clear(),this.BG.graphics.beginStroke("#0000ff"),this.BG.graphics.setStrokeStyle(10),this.BG.graphics.drawRect(0,0,this._width,this._height),this.BG.graphics.moveTo(0,0),this.BG.graphics.lineTo(this.width,this.height),this.BG.graphics.moveTo(this.width,0),this.BG.graphics.lineTo(0,this.height),this.BG.graphics.endStroke()},e.prototype.pause=function(e){this._isPaused=e,e?i.AudioManager.getInstance().pauseAll():i.AudioManager.getInstance().unpauseAll()},e.prototype.run=function(){throw new Error("SpringrollGame.run not implemented")},e.prototype.changeVolume=function(e){createjs.Sound.volume=e},e.prototype.changeSfxVolume=function(e){throw new Error("SpringrollGame.changeSfxVolume not implemented")},e.prototype.changeMusicVolume=function(e){throw new Error("SpringrollGame.changeMusicVolume not implemented")},e.prototype.changeVOVolume=function(e){throw new Error("SpringrollGame.changeVOVolume not implemented")},e}();t.SpringrollGame=r},65:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.SceneLoadEvent=void 0;var r=function(e){function t(t,n,a,i,r){var o=e.call(this,t,i,r)||this;return o._sceneId=n,o._data=a,o}return i(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneId",{get:function(){return this._sceneId},enumerable:!1,configurable:!0}),t.SCENE_REQUEST="sceneRequest",t.GAME_RESTART="gameRestart",t}(createjs.Event);t.SceneLoadEvent=r},94:function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GameScreen=void 0;var r=function(e){function t(){var t=e.call(this)||this;return t.name="unnamed",t}return i(t,e),Object.defineProperty(t.prototype,"isPaused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),t.prototype.update=function(e){},t.prototype.pause=function(e){this._paused=e},t.prototype.resize=function(e){e.width,e.height;throw new Error("Resize event needs to be implemented in screen ("+this.name+")")},t.prototype.destroy=function(){throw new Error("Destroy needs to be implemented in screen ("+this.name+")")},t.prototype.start=function(){},t}(createjs.Container);t.GameScreen=r}});